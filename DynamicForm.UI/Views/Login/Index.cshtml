@model UserLoginDto
@{
	Layout = null;
}

<!DOCTYPE html>

<html>
<head>

	<title>Dynamic Form Project</title>

	<meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">

	<link href="~/Assets/Css/bootstrap.min.css" rel="stylesheet" />

	<link href="~/Assets/Css/font-awesome.min.css" rel="stylesheet" />

	<link href="~/Assets/Css/login.min.css" rel="stylesheet" />

</head>
<body>

	<div class="giris_vertical_center">
		<div class="container" style="width: 100%; max-width:500px">
			<div class="giris_div">
				<div class="container" style="max-width: 450px">
					<div class="mx-auto d-block" style="padding-top:25px; padding-bottom:25px; color:#f5f5f5; font-size:20px">
						DYNAMİC FORM PROJECT
					</div>
					<form id="loginform" asp-action="Login" data-ajax="true" data-ajax-method="post" data-ajax-begin="OnBegin" data-ajax-success="OnSuccess" data-ajax-complete="OnComplete">
						<div class="form-group">

							<div class="input-group">
								<input type="text" class="form-control" asp-for="@Model.Username" placeholder="Kullanıcı Adı" style="height:40px" />
								<span class="input-group-addon" style="background-color: #e9ecef; min-width: 40px; height:40px"><i class="fa fa-user"></i></span>
							</div>
							<div class="text-left"><span class="text-danger" asp-validation-for="@Model.Username"></span></div>
						</div>
						<div class="form-group">
							<div class="input-group">
								<input type="password" class="form-control" placeholder="*********" asp-for="@Model.Password" style="height:40px" />
								<span class="input-group-addon" style="background-color: #e9ecef; min-width: 40px; height:40px"><i class="fa fa-unlock-alt"></i></span>
							</div>
							<div class="text-left">
								<span class="text-danger" asp-validation-for="@Model.Password"></span>
							</div>
						</div>
						<div class="form-group">
							<button id="login" type="submit" class="btn btn-success" style="width:100%; height:40px">Giriş Yap !&nbsp;&nbsp;<i class='fa fa-sign-in'></i></button>
						</div>
					</form>
				</div>
			</div>

		</div>
	</div>

	<script src="~/Assets/Js/jquery.min.js"></script>

	<script src="~/Assets/Js/jquery.validate.min.js"></script>

	<script src="~/Assets/Js/jquery.validate.unobtrusive.min.js"></script>

	<script src="~/Assets/Js/jquery.unobtrusive-ajax.min.js"></script>

	<script src="~/Assets/Js/sweetalert.min.js"></script>

	<script>
		function OnBegin() {
			$("#login").prop("disabled", true);
		}

		function OnSuccess(result) {
			if (result.Status == true) {
				window.location.href = result.RedirectUrl;
			}
			else {
				swal(result.Message, {
					icon: "info",
					button: "Tamam",
					closeOnClickOutside:false,
				});
			}
		}

		function OnComplete() {
			$("#login").prop("disabled", false);
		}
	</script>

</body>
</html>
